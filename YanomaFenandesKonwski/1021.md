Eu criei profundidade, e aí vou passando caractere por caracter, somando 1 se for "(" que é sempre o começo e -1 se for ")", aí com base nisso vai sempre tirar o primeiro ( e o ultimo ) de cada parate por conta de que quando for 0 vai tirar o primeiro ( aí quando chegar no ultimo, ) vai ser 0 então acaba que deixa de adicionar na resposta, e depois dou um join da lista juntando em uma string só.